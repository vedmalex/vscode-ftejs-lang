ü§ñ Memory Bank 2.0 ‚Äî No-Git (Min) + LEVER
  MODE: MIN + LEVER Framework
  NO GIT | NL input | Code edits only in IMPLEMENT | LEVER analysis
  üîç SCANNING: Checking for bugs, must-haves, and reusable patterns...
  Quick note: Loaded LEVER.md, BUGS.md, MUST_HAVE.md; cross-checked with source/tests. Ready to walk through and propose next steps.

  –û–±–∑–æ—Ä `LEVER.md` –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º

  ‚Ä¢ Leverage Existing Patterns
    ‚Ä¢ [LEV-001] walkAstNodes(ast, callback) ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å–º. Applied). –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –º–µ—Å—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ astUtils –∏ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±—Ö–æ–¥–æ–≤ AST.
    ‚Ä¢ [LEV-002] parseAndFormat(...) –¥–ª—è —Ç–µ—Å—Ç–æ–≤ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å–º. Applied).
    ‚Ä¢ [LEV-003] getTemplatePathVariants(basePath) ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Å–º. Applied).
    ‚Ä¢ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: –æ—Ç–º–µ—Ç–∏—Ç—å —á–µ–∫–±–æ–∫—Å—ã –≤ –≤–µ—Ä—Ö–Ω–µ–º —Å–ø–∏—Å–∫–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å ‚ÄúApplied LEVER‚Äù.
  ‚Ä¢ Eliminate Duplicates
    ‚Ä¢ [DUP-001] –û–±—â–∏–π Prettier mock ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: server/__tests__/testSetup.js.
    ‚Ä¢ [DUP-002] –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –æ–±—Ö–æ–¥–æ–≤ AST ‚Äî –ø–æ–∫—Ä—ã—Ç–æ [LEV-001].
    ‚Ä¢ [DUP-003] DEFAULT_FORMAT_SETTINGS ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (—Å–º. Applied).
    ‚Ä¢ [DUP-004] –£–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å. –¶–µ–ª—å: –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∏ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è .nhtml/.njs/.nts/.nmd.
  ‚Ä¢ Reduce Complexity
    ‚Ä¢ [COMP-001] –†–∞–∑–±–∏–≤–∫–∞ server.ts (>1400 —Å—Ç—Ä–æ–∫) ‚Äî –µ—â–µ –Ω–µ –Ω–∞—á–∏–Ω–∞–ª–∏. –ù–∞–∏–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω—ã–π —à–∞–≥ –ø–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏: –≤—ã–¥–µ–ª–∏—Ç—å completion, diagnostics, navigation, formatting.
    ‚Ä¢ [COMP-002] –í—ã–¥–µ–ª–µ–Ω–∏–µ AST-—É—Ç–∏–ª–∏—Ç ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ —Å–¥–µ–ª–∞–Ω–æ: server/src/astUtils.ts.
    ‚Ä¢ [COMP-003] –û–±—â–∏–µ —Ç–µ—Å—Ç-—Ö–µ–ª–ø–µ—Ä—ã ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ: testSetup.js + parseAndFormat(...) (–∏–∑ Applied). –ú–æ–∂–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ server/__tests__/helpers/ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ.
  ‚Ä¢ Applied LEVER (–≥–æ—Ç–æ–≤–æ)
    ‚Ä¢ walkAstNodes, getTemplatePathVariants, –æ–±—â–∏–π —Ç–µ—Å—Ç setup, parseAndFormat, DEFAULT_FORMAT_SETTINGS.
    ‚Ä¢ –≠—Ñ—Ñ–µ–∫—Ç: –º–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è; –ø—Ä–æ—â–µ –º–µ–Ω—è—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è; —É–ø—Ä–æ—â–µ–Ω—ã —Ç–µ—Å—Ç—ã. –í—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ.


  –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ —É–±—ã–≤–∞–Ω–∏—é —ç—Ñ—Ñ–µ–∫—Ç–∞)

  1) [COMP-001] –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å `server.ts`
    ‚Ä¢ –†–∞–∑–±–∏—Ç—å –Ω–∞ completion.ts, diagnostics.ts, navigation.ts, formatterCore.ts (–ø–æ—Å–ª–µ–¥–Ω–∏–π —É–∂–µ –µ—Å—Ç—å), –ø–ª—é—Å —Ç–æ–Ω–∫–∏–π index/server.ts.
    ‚Ä¢ –í–ª–∏—è–Ω–∏–µ: –≤—ã—Å–æ–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å, –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

  2) [DUP-004] –ï–¥–∏–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç/—Å–µ—Ä–≤–µ—Ä
    ‚Ä¢ –í—ã–Ω–µ—Å—Ç–∏ –≤ –æ–±—â–∏–π –º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, shared/templateExtensions.ts) –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω.
    ‚Ä¢ –í–ª–∏—è–Ω–∏–µ: –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∞–≤–¥—ã, –º–µ–Ω—å—à–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

  3) [COMP-003] –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è —Ç–µ—Å—Ç-—Ö–µ–ª–ø–µ—Ä–æ–≤
    ‚Ä¢ –°–æ–∑–¥–∞—Ç—å server/__tests__/helpers/index.js —Å —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏ parseAndFormat, –æ–±—â–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ —É—Ç–∏–ª–∏—Ç.
    ‚Ä¢ –í–ª–∏—è–Ω–∏–µ: —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤, –º–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

  4) –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ–∫–±–æ–∫—Å—ã –≤ –≤–µ—Ä—Ö–Ω–∏—Ö —Å–ø–∏—Å–∫–∞—Ö LEVER.md —Å –±–ª–æ–∫–æ–º ‚ÄúApplied LEVER‚Äù (–∫–æ—Å–º–µ—Ç–∏–∫–∞, –Ω–æ —É–±–∏—Ä–∞–µ—Ç –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å).
  –•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è —Å—Ä–∞–∑—É:
  ‚Ä¢ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª —á–µ–∫–±–æ–∫—Å—ã –≤ LEVER.md,
  ‚Ä¢ –∏–ª–∏ –ø–µ—Ä–µ—à–µ–ª –∫ IMPLEMENT –ø–æ –æ–¥–Ω–æ–º—É –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å [DUP-004] –∏–ª–∏ [COMP-001])?
  ‚Ä¢ –í—ã–ø–æ–ª–Ω–∏–ª: –∑–∞–≥—Ä—É–∑–∏–ª LEVER.md, —Å–≤–µ—Ä–∏–ª —Å –∫–æ–¥–æ–º –∏ —Ç–µ—Å—Ç–∞–º–∏, –Ω–∞–º–µ—Ç–∏–ª –∫—Ä–∞—Ç–∫–∏–π –ø–ª–∞–Ω.
  ‚Ä¢ –ò—Ç–æ–≥–∏:
    ‚Ä¢ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑ Applied: walkAstNodes, getTemplatePathVariants, –æ–±—â–∏–π —Ç–µ—Å—Ç setup, parseAndFormat, DEFAULT_FORMAT_SETTINGS.
    ‚Ä¢ –û—Å—Ç–∞–ª–∏—Å—å –∫–ª—é—á–µ–≤—ã–µ: –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å server.ts ([COMP-001]), –µ–¥–∏–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π ([DUP-004]), –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è —Ç–µ—Å—Ç-—Ö–µ–ª–ø–µ—Ä–æ–≤ ([COMP-003]).
    ‚Ä¢ –ì–æ—Ç–æ–≤ –æ–±–Ω–æ–≤–∏—Ç—å LEVER.md –∏/–∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞.